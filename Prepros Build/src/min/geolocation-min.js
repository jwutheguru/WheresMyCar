define([],function(){function t(t){return t*Math.PI/180}function a(t){return 180*t/Math.PI}function n(t){return 3280.84*t}function o(a,o){var r=a.coords.latitude,c=a.coords.longitude,e=o.coords.latitude,s=o.coords.longitude,u=t(e-r),h=t(s-c);r=t(r),e=t(e);var M=Math.sin(u/2)*Math.sin(u/2)+Math.sin(h/2)*Math.sin(h/2)*Math.cos(r)*Math.cos(e),d=2*Math.atan2(Math.sqrt(M),Math.sqrt(1-M)),l=i*d;return n(l)}function r(n,o){var r=n.coords.latitude,c=n.coords.longitude,i=o.coords.latitude,e=o.coords.longitude;r=t(r),c=t(c),i=t(i),e=t(e);var s=Math.sin(e-c)*Math.cos(i),u=Math.cos(r)*Math.sin(i)-Math.sin(r)*Math.cos(i)*Math.cos(e-c),h=a(Math.atan2(s,u));return h=(h+360)%360}function c(t){var a="";return t>337.5&&22.5>=t?a="N":t>22.5&&67.5>=t?a="NE":t>67.5&&112.5>=t?a="E":t>112.5&&157.5>=t?a="SE":t>157.5&&202.5>=t?a="S":t>202.5&&247.5>=t?a="SW":t>247.5&&292.5>=t?a="W":t>292.5&&337.5>=t&&(a="NW"),a}var i=6371;return{calculateDistance:o,calculateBearing:r,getDirectionText:c}});